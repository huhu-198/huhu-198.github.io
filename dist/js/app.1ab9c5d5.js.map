{"version":3,"file":"js/app.1ab9c5d5.js","mappings":"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","sources":["webpack://vue-2048-test/./src/App.vue","webpack://vue-2048-test/./src/components/HelloWorld.vue","webpack://vue-2048-test/./src/components/HelloWorld.vue?bd04","webpack://vue-2048-test/./src/components/GameOne.vue","webpack://vue-2048-test/./src/components/keyboard_input_manager.js","webpack://vue-2048-test/./src/components/html_actuator.js","webpack://vue-2048-test/./src/components/local_storage_manager.js","webpack://vue-2048-test/./src/components/tile.js","webpack://vue-2048-test/./src/components/grid.js","webpack://vue-2048-test/./src/components/game_manager.js","webpack://vue-2048-test/./src/components/GameOne.vue?f45d","webpack://vue-2048-test/./src/App.vue?7ccd","webpack://vue-2048-test/./src/main.js","webpack://vue-2048-test/webpack/bootstrap","webpack://vue-2048-test/webpack/runtime/chunk loaded","webpack://vue-2048-test/webpack/runtime/compat get default export","webpack://vue-2048-test/webpack/runtime/define property getters","webpack://vue-2048-test/webpack/runtime/global","webpack://vue-2048-test/webpack/runtime/hasOwnProperty shorthand","webpack://vue-2048-test/webpack/runtime/jsonp chunk loading","webpack://vue-2048-test/webpack/startup"],"sourcesContent":["<template>\r\n\t<GameOne />\r\n\t<HelloWorld msg=\"Welcome to Your Vue.js App\" />\r\n</template>\r\n\r\n<script>\r\n\timport HelloWorld from './components/HelloWorld.vue';\r\n\timport GameOne from './components/GameOne.vue';\r\n\r\n\texport default {\r\n\t\tname: 'App',\r\n\t\tcomponents: {\r\n\t\t\tHelloWorld,\r\n\t\t\tGameOne,\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<style>\r\n\t#app {\r\n\t\tfont-family: Avenir, Helvetica, Arial, sans-serif;\r\n\t\t-webkit-font-smoothing: antialiased;\r\n\t\t-moz-osx-font-smoothing: grayscale;\r\n\t\ttext-align: center;\r\n\t\tcolor: #2c3e50;\r\n\t\tmargin-top: 60px;\r\n\t}\r\n\timg {\r\n\t\tmargin: 50px;\r\n\t}\r\n</style>\r\n","<template>\r\n\t<div class=\"hello\">\r\n\t\t<h1>{{ msg }}</h1>\r\n\t\t<p>\r\n\t\t\tFor a guide and recipes on how to configure / customize this project,<br />\r\n\t\t\tcheck out the\r\n\t\t\t<a href=\"https://cli.vuejs.org\" target=\"_blank\" rel=\"noopener\"\r\n\t\t\t\t>vue-cli documentation</a\r\n\t\t\t>.\r\n\t\t</p>\r\n\t\t<h3>Installed CLI Plugins</h3>\r\n\t\t<ul>\r\n\t\t\t<li>\r\n\t\t\t\t<a\r\n\t\t\t\t\thref=\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel\"\r\n\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\trel=\"noopener\"\r\n\t\t\t\t\t>babel</a\r\n\t\t\t\t>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<a\r\n\t\t\t\t\thref=\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint\"\r\n\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\trel=\"noopener\"\r\n\t\t\t\t\t>eslint</a\r\n\t\t\t\t>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t\t<h3>Essential Links</h3>\r\n\t\t<ul>\r\n\t\t\t<li>\r\n\t\t\t\t<a href=\"https://vuejs.org\" target=\"_blank\" rel=\"noopener\">Core Docs</a>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<a href=\"https://forum.vuejs.org\" target=\"_blank\" rel=\"noopener\"\r\n\t\t\t\t\t>Forum</a\r\n\t\t\t\t>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<a href=\"https://chat.vuejs.org\" target=\"_blank\" rel=\"noopener\"\r\n\t\t\t\t\t>Community Chat</a\r\n\t\t\t\t>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<a href=\"https://twitter.com/vuejs\" target=\"_blank\" rel=\"noopener\"\r\n\t\t\t\t\t>Twitter</a\r\n\t\t\t\t>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<a href=\"https://news.vuejs.org\" target=\"_blank\" rel=\"noopener\">News</a>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t\t<h3>Ecosystem</h3>\r\n\t\t<ul>\r\n\t\t\t<li>\r\n\t\t\t\t<a href=\"https://router.vuejs.org\" target=\"_blank\" rel=\"noopener\"\r\n\t\t\t\t\t>vue-router</a\r\n\t\t\t\t>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<a href=\"https://vuex.vuejs.org\" target=\"_blank\" rel=\"noopener\">vuex</a>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<a\r\n\t\t\t\t\thref=\"https://github.com/vuejs/vue-devtools#vue-devtools\"\r\n\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\trel=\"noopener\"\r\n\t\t\t\t\t>vue-devtools</a\r\n\t\t\t\t>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<a href=\"https://vue-loader.vuejs.org\" target=\"_blank\" rel=\"noopener\"\r\n\t\t\t\t\t>vue-loader</a\r\n\t\t\t\t>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<a\r\n\t\t\t\t\thref=\"https://github.com/vuejs/awesome-vue\"\r\n\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\trel=\"noopener\"\r\n\t\t\t\t\t>awesome-vue</a\r\n\t\t\t\t>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: 'HelloWorld',\r\n\t\tprops: {\r\n\t\t\tmsg: String,\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n\th3 {\r\n\t\tmargin: 40px 0 0;\r\n\t}\r\n\tul {\r\n\t\tlist-style-type: none;\r\n\t\tpadding: 0;\r\n\t}\r\n\tli {\r\n\t\tdisplay: inline-block;\r\n\t\tmargin: 0 10px;\r\n\t}\r\n\ta {\r\n\t\tcolor: #42b983;\r\n\t}\r\n</style>\r\n","import { render } from \"./HelloWorld.vue?vue&type=template&id=3d63399a&scoped=true\"\nimport script from \"./HelloWorld.vue?vue&type=script&lang=js\"\nexport * from \"./HelloWorld.vue?vue&type=script&lang=js\"\n\nimport \"./HelloWorld.vue?vue&type=style&index=0&id=3d63399a&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\web\\\\vue\\\\vue-2048-test\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3d63399a\"]])\n\nexport default __exports__","<template>\r\n\t<div class=\"container\">\r\n\t\t<div class=\"heading\">\r\n\t\t\t<h1 class=\"title\">2048</h1>\r\n\t\t\t<div class=\"scores-container\">\r\n\t\t\t\t<div class=\"score-container\">0</div>\r\n\t\t\t\t<div class=\"best-container\">0</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"above-game\">\r\n\t\t\t<p class=\"game-intro\">\r\n\t\t\t\t使用方向键移动方块 <strong>用vue框架跑的2048</strong>\r\n\t\t\t</p>\r\n\t\t\t<a class=\"restart-button\">New Game</a>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"game-container\">\r\n\t\t\t<div class=\"game-message\">\r\n\t\t\t\t<p></p>\r\n\t\t\t\t<div class=\"lower\">\r\n\t\t\t\t\t<a class=\"keep-playing-button\">Keep going</a>\r\n\t\t\t\t\t<a class=\"retry-button\">Try again</a>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"grid-container\">\r\n\t\t\t\t<div class=\"grid-row\">\r\n\t\t\t\t\t<div class=\"grid-cell\"></div>\r\n\t\t\t\t\t<div class=\"grid-cell\"></div>\r\n\t\t\t\t\t<div class=\"grid-cell\"></div>\r\n\t\t\t\t\t<div class=\"grid-cell\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"grid-row\">\r\n\t\t\t\t\t<div class=\"grid-cell\"></div>\r\n\t\t\t\t\t<div class=\"grid-cell\"></div>\r\n\t\t\t\t\t<div class=\"grid-cell\"></div>\r\n\t\t\t\t\t<div class=\"grid-cell\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"grid-row\">\r\n\t\t\t\t\t<div class=\"grid-cell\"></div>\r\n\t\t\t\t\t<div class=\"grid-cell\"></div>\r\n\t\t\t\t\t<div class=\"grid-cell\"></div>\r\n\t\t\t\t\t<div class=\"grid-cell\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"grid-row\">\r\n\t\t\t\t\t<div class=\"grid-cell\"></div>\r\n\t\t\t\t\t<div class=\"grid-cell\"></div>\r\n\t\t\t\t\t<div class=\"grid-cell\"></div>\r\n\t\t\t\t\t<div class=\"grid-cell\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"tile-container\"></div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\t// import '../../oneGame-js/application';\r\n\r\n\timport { KeyboardInputManager } from './keyboard_input_manager.js';\r\n\timport { HTMLActuator } from './html_actuator.js';\r\n\timport { LocalStorageManager } from './local_storage_manager.js';\r\n\timport { GameManager } from './game_manager.js';\r\n\r\n\texport default {\r\n\t\tname: 'GameOne',\r\n\t\tmounted() {\r\n\t\t\twindow.requestAnimationFrame(function () {\r\n\t\t\t\tnew GameManager(\r\n\t\t\t\t\t4,\r\n\t\t\t\t\tKeyboardInputManager,\r\n\t\t\t\t\tHTMLActuator,\r\n\t\t\t\t\tLocalStorageManager\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped></style>\r\n","function KeyboardInputManager() {\r\n\tthis.events = {};\r\n\tthis.listen();\r\n}\r\n\r\n//重置或新增事件\r\nKeyboardInputManager.prototype.on = function (event, callback) {\r\n\tif (!this.events[event]) {\r\n\t\tthis.events[event] = [];\r\n\t}\r\n\tthis.events[event].push(callback);\r\n};\r\n\r\nKeyboardInputManager.prototype.emit = function (event, data) {\r\n\tvar callbacks = this.events[event];\r\n\tif (callbacks) {\r\n\t\tcallbacks.forEach(function (callback) {\r\n\t\t\tcallback(data);\r\n\t\t});\r\n\t}\r\n};\r\n\r\n//判断按下的方向键\r\nKeyboardInputManager.prototype.listen = function () {\r\n\tvar self = this;\r\n\r\n\tvar map = {\r\n\t\t//采用更先进的key，而不是keycode和老掉牙的which\r\n\t\t// 38: 0, // Up\r\n\t\t// 39: 1, // Right\r\n\t\t// 40: 2, // Down\r\n\t\t// 37: 3, // Left\r\n\t\t// // 75: 0, // Vim up 不用支持vim\r\n\t\t// // 76: 1, // Vim right\r\n\t\t// // 74: 2, // Vim down\r\n\t\t// // 72: 3, // Vim left\r\n\t\t// 87: 0, // W\r\n\t\t// 68: 1, // D\r\n\t\t// 83: 2, // S\r\n\t\t// 65: 3, // A\r\n\r\n\t\tw: 0, // W\r\n\t\td: 1, // D\r\n\t\ts: 2, // S\r\n\t\ta: 3, // A\r\n\r\n\t\tW: 0, // W\r\n\t\tD: 1, // D\r\n\t\tS: 2, // S\r\n\t\tA: 3, // A\r\n\r\n\t\tArrowUp: 0, // 上\r\n\t\tArrowRight: 1, // 右\r\n\t\tArrowDown: 2, // 下\r\n\t\tArrowLeft: 3, // 左\r\n\t};\r\n\r\n\t// Respond to direction keys  监听键盘方向键\r\n\tdocument.addEventListener('keydown', function (event) {\r\n\t\t// var modifiers = //判断是不是同时按着alt、ctrl等键， 不需要\r\n\t\t// \tevent.altKey || event.ctrlKey || event.metaKey || event.shiftKey;\r\n\r\n\t\t//var mapped = map[event.which];\r\n\t\tvar mapped = map[event.key];\r\n\r\n\t\tif (mapped !== undefined) {\r\n\t\t\t//属于方向按键\r\n\t\t\tevent.preventDefault();\r\n\t\t\tself.emit('move', mapped);\r\n\t\t}\r\n\r\n\t\t// R key restarts the game    按R重新开始游戏\r\n\t\tif (event.key === 'r' || event.key === 'R') {\r\n\t\t\tself.restart.call(self, event);\r\n\t\t}\r\n\r\n\t\t// if (!modifiers && event.which === 82) {\r\n\t\t// \tself.restart.call(self, event);\r\n\t\t// }\r\n\t});\r\n\r\n\t// Respond to button presses 绑定按钮事件\r\n\tthis.bindButtonPress('.retry-button', this.restart); //重新开始 New Game 按钮\r\n\tthis.bindButtonPress('.restart-button', this.restart); //重新开始 Try again 按钮\r\n\tthis.bindButtonPress('.keep-playing-button', this.keepPlaying); //继续游戏 Keep going 按钮（达到2048游戏胜利后展示）\r\n\r\n\t// // Respond to swipe events  滑动事件，适配手机，先不管\r\n\t// var touchStartClientX, touchStartClientY;\r\n\t// var gameContainer = document.getElementsByClassName('game-container')[0];\r\n\r\n\t// gameContainer.addEventListener(this.eventTouchstart, function (event) {\r\n\t// \tif (\r\n\t// \t\t(!window.navigator.msPointerEnabled && event.touches.length > 1) ||\r\n\t// \t\tevent.targetTouches.length > 1\r\n\t// \t) {\r\n\t// \t\treturn; // Ignore if touching with more than 1 finger\r\n\t// \t}\r\n\r\n\t// \tif (window.navigator.msPointerEnabled) {\r\n\t// \t\ttouchStartClientX = event.pageX;\r\n\t// \t\ttouchStartClientY = event.pageY;\r\n\t// \t} else {\r\n\t// \t\ttouchStartClientX = event.touches[0].clientX;\r\n\t// \t\ttouchStartClientY = event.touches[0].clientY;\r\n\t// \t}\r\n\r\n\t// \tevent.preventDefault();\r\n\t// });\r\n\r\n\t// gameContainer.addEventListener(this.eventTouchmove, function (event) {\r\n\t// \tevent.preventDefault();\r\n\t// });\r\n\r\n\t// gameContainer.addEventListener(this.eventTouchend, function (event) {\r\n\t// \tif (\r\n\t// \t\t(!window.navigator.msPointerEnabled && event.touches.length > 0) ||\r\n\t// \t\tevent.targetTouches.length > 0\r\n\t// \t) {\r\n\t// \t\treturn; // Ignore if still touching with one or more fingers\r\n\t// \t}\r\n\r\n\t// \tvar touchEndClientX, touchEndClientY;\r\n\r\n\t// \tif (window.navigator.msPointerEnabled) {\r\n\t// \t\ttouchEndClientX = event.pageX;\r\n\t// \t\ttouchEndClientY = event.pageY;\r\n\t// \t} else {\r\n\t// \t\ttouchEndClientX = event.changedTouches[0].clientX;\r\n\t// \t\ttouchEndClientY = event.changedTouches[0].clientY;\r\n\t// \t}\r\n\r\n\t// \tvar dx = touchEndClientX - touchStartClientX;\r\n\t// \tvar absDx = Math.abs(dx);\r\n\r\n\t// \tvar dy = touchEndClientY - touchStartClientY;\r\n\t// \tvar absDy = Math.abs(dy);\r\n\r\n\t// \tif (Math.max(absDx, absDy) > 10) {\r\n\t// \t\t// (right : left) : (down : up)\r\n\t// \t\tself.emit('move', absDx > absDy ? (dx > 0 ? 1 : 3) : dy > 0 ? 2 : 0);\r\n\t// \t}\r\n\t// });\r\n};\r\n\r\n// 重新开始\r\nKeyboardInputManager.prototype.restart = function (event) {\r\n\tevent.preventDefault();\r\n\tthis.emit('restart');\r\n};\r\n\r\n// 继续游戏\r\nKeyboardInputManager.prototype.keepPlaying = function (event) {\r\n\tevent.preventDefault();\r\n\tthis.emit('keepPlaying');\r\n};\r\n\r\n// 选择某个元素，绑定按钮按下事件（封装函数）\r\nKeyboardInputManager.prototype.bindButtonPress = function (selector, fn) {\r\n\tvar button = document.querySelector(selector);\r\n\tbutton.addEventListener('click', fn.bind(this));\r\n\t//滑动事件\r\n\t//button.addEventListener(this.eventTouchend, fn.bind(this));\r\n};\r\n\r\nexport { KeyboardInputManager };\r\n","function HTMLActuator() {\r\n\tthis.tileContainer = document.querySelector('.tile-container');\r\n\tthis.scoreContainer = document.querySelector('.score-container');\r\n\tthis.bestContainer = document.querySelector('.best-container');\r\n\tthis.messageContainer = document.querySelector('.game-message');\r\n\r\n\tthis.score = 0;\r\n}\r\n\r\nHTMLActuator.prototype.actuate = function (grid, metadata) {\r\n\tvar self = this;\r\n\r\n\twindow.requestAnimationFrame(function () {\r\n\t\tself.clearContainer(self.tileContainer);\r\n\r\n\t\tgrid.cells.forEach(function (column) {\r\n\t\t\tcolumn.forEach(function (cell) {\r\n\t\t\t\tif (cell) {\r\n\t\t\t\t\tself.addTile(cell);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tself.updateScore(metadata.score);\r\n\t\tself.updateBestScore(metadata.bestScore);\r\n\r\n\t\tif (metadata.terminated) {\r\n\t\t\tif (metadata.over) {\r\n\t\t\t\tself.message(false); // You lose\r\n\t\t\t} else if (metadata.won) {\r\n\t\t\t\tself.message(true); // You win!\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n};\r\n\r\n// Continues the game (both restart and keep playing)\r\nHTMLActuator.prototype.continueGame = function () {\r\n\tthis.clearMessage();\r\n};\r\n\r\nHTMLActuator.prototype.clearContainer = function (container) {\r\n\twhile (container.firstChild) {\r\n\t\tcontainer.removeChild(container.firstChild);\r\n\t}\r\n};\r\n\r\nHTMLActuator.prototype.addTile = function (tile) {\r\n\tvar self = this;\r\n\r\n\tvar wrapper = document.createElement('div');\r\n\tvar inner = document.createElement('div');\r\n\tvar position = tile.previousPosition || { x: tile.x, y: tile.y };\r\n\tvar positionClass = this.positionClass(position);\r\n\r\n\t// We can't use classlist because it somehow glitches when replacing classes\r\n\tvar classes = ['tile', 'tile-' + tile.value, positionClass];\r\n\r\n\tif (tile.value > 2048) classes.push('tile-super');\r\n\r\n\tthis.applyClasses(wrapper, classes);\r\n\r\n\tinner.classList.add('tile-inner');\r\n\t// if(tile.value == 2 ){\r\n\t//   inner.textContent = '贰';\r\n\t// }\r\n\t// else if(tile.value == 4) {\r\n\t//   inner.textContent = '肆';\r\n\t// }\r\n\t// else\r\n\r\n\tinner.textContent = tile.value;\r\n\r\n\tif (tile.previousPosition) {\r\n\t\t// Make sure that the tile gets rendered in the previous position first\r\n\t\twindow.requestAnimationFrame(function () {\r\n\t\t\tclasses[2] = self.positionClass({ x: tile.x, y: tile.y });\r\n\t\t\tself.applyClasses(wrapper, classes); // Update the position\r\n\t\t});\r\n\t} else if (tile.mergedFrom) {\r\n\t\tclasses.push('tile-merged');\r\n\t\tthis.applyClasses(wrapper, classes);\r\n\r\n\t\t// Render the tiles that merged\r\n\t\ttile.mergedFrom.forEach(function (merged) {\r\n\t\t\tself.addTile(merged);\r\n\t\t});\r\n\t} else {\r\n\t\tclasses.push('tile-new');\r\n\t\tthis.applyClasses(wrapper, classes);\r\n\t}\r\n\r\n\t// Add the inner part of the tile to the wrapper\r\n\twrapper.appendChild(inner);\r\n\r\n\t// Put the tile on the board\r\n\tthis.tileContainer.appendChild(wrapper);\r\n};\r\n\r\nHTMLActuator.prototype.applyClasses = function (element, classes) {\r\n\telement.setAttribute('class', classes.join(' '));\r\n};\r\n\r\nHTMLActuator.prototype.normalizePosition = function (position) {\r\n\treturn { x: position.x + 1, y: position.y + 1 };\r\n};\r\n\r\nHTMLActuator.prototype.positionClass = function (position) {\r\n\tposition = this.normalizePosition(position);\r\n\treturn 'tile-position-' + position.x + '-' + position.y;\r\n};\r\n\r\nHTMLActuator.prototype.updateScore = function (score) {\r\n\tthis.clearContainer(this.scoreContainer);\r\n\r\n\tvar difference = score - this.score;\r\n\tthis.score = score;\r\n\r\n\tthis.scoreContainer.textContent = this.score;\r\n\r\n\tif (difference > 0) {\r\n\t\tvar addition = document.createElement('div');\r\n\t\taddition.classList.add('score-addition');\r\n\t\taddition.textContent = '+' + difference;\r\n\r\n\t\tthis.scoreContainer.appendChild(addition);\r\n\t}\r\n};\r\n\r\n// 更新最佳成绩\r\nHTMLActuator.prototype.updateBestScore = function (bestScore) {\r\n\tthis.bestContainer.textContent = bestScore;\r\n};\r\n\r\n//展示结算页\r\nHTMLActuator.prototype.message = function (won) {\r\n\tvar type = won ? 'game-won' : 'game-over';\r\n\tvar message = won ? 'You win!' : 'Game over!';\r\n\r\n\tthis.messageContainer.classList.add(type);\r\n\tthis.messageContainer.getElementsByTagName('p')[0].textContent = message;\r\n};\r\n\r\n//情况结算页\r\nHTMLActuator.prototype.clearMessage = function () {\r\n\t// IE only takes one value to remove at a time.\r\n\tthis.messageContainer.classList.remove('game-won');\r\n\tthis.messageContainer.classList.remove('game-over');\r\n};\r\n\r\nexport { HTMLActuator };\r\n","function LocalStorageManager() {\r\n\tthis.bestScoreKey = 'bestScore'; //两个localStorage元素的key\r\n\tthis.gameStateKey = 'gameState';\r\n\r\n\tthis.storage = window.localStorage;\r\n}\r\n\r\n// Best score getters/setters\r\n\r\n//获取最高分\r\nLocalStorageManager.prototype.getBestScore = function () {\r\n\treturn this.storage.getItem(this.bestScoreKey) || 0;\r\n};\r\n\r\n//设置最高分\r\nLocalStorageManager.prototype.setBestScore = function (score) {\r\n\tthis.storage.setItem(this.bestScoreKey, score);\r\n};\r\n\r\n// Game state getters/setters and clearing\r\n//获取游戏状态数组\r\nLocalStorageManager.prototype.getGameState = function () {\r\n\tvar stateJSON = this.storage.getItem(this.gameStateKey);\r\n\treturn stateJSON ? JSON.parse(stateJSON) : null;\r\n};\r\n\r\n//设置游戏状态数组\r\nLocalStorageManager.prototype.setGameState = function (gameState) {\r\n\tthis.storage.setItem(this.gameStateKey, JSON.stringify(gameState));\r\n};\r\n\r\n//清除游戏状态数组，清零\r\nLocalStorageManager.prototype.clearGameState = function () {\r\n\tthis.storage.removeItem(this.gameStateKey);\r\n};\r\n\r\nexport { LocalStorageManager };\r\n","// 设置方块状态\r\nfunction Tile(position, value) {\r\n\tthis.x = position.x; //行\r\n\tthis.y = position.y; //列\r\n\tthis.value = value || 2;\r\n\r\n\tthis.previousPosition = null;\r\n\tthis.mergedFrom = null; // Tracks tiles that merged together  合并后的元素\r\n}\r\n\r\nTile.prototype.savePosition = function () {\r\n\t//保存之前的位置\r\n\tthis.previousPosition = { x: this.x, y: this.y };\r\n};\r\n\r\nTile.prototype.updatePosition = function (position) {\r\n\t//更新后的位置\r\n\tthis.x = position.x;\r\n\tthis.y = position.y;\r\n};\r\n\r\nTile.prototype.serialize = function () {\r\n\treturn {\r\n\t\tposition: {\r\n\t\t\tx: this.x,\r\n\t\t\ty: this.y,\r\n\t\t},\r\n\t\tvalue: this.value,\r\n\t};\r\n};\r\n\r\nexport { Tile };\r\n","import { Tile } from './tile.js';\r\n\r\nfunction Grid(size, previousState) {\r\n\tthis.size = size;\r\n\tthis.cells = previousState ? this.fromState(previousState) : this.empty(); //生成的方块来自上一个旧状态或空棋盘\r\n}\r\n\r\n// Build a grid of the specified size 创建一个新的空棋盘\r\nGrid.prototype.empty = function () {\r\n\tvar cells = [];\r\n\r\n\tfor (var x = 0; x < this.size; x++) {\r\n\t\tvar row = (cells[x] = []);\r\n\r\n\t\tfor (var y = 0; y < this.size; y++) {\r\n\t\t\trow.push(null);\r\n\t\t}\r\n\t}\r\n\r\n\treturn cells;\r\n};\r\n\r\n//生成的方块来自上一个状态（历史记录功能）\r\nGrid.prototype.fromState = function (state) {\r\n\tvar cells = [];\r\n\r\n\tfor (var x = 0; x < this.size; x++) {\r\n\t\tvar row = (cells[x] = []);\r\n\r\n\t\tfor (var y = 0; y < this.size; y++) {\r\n\t\t\tvar tile = state[x][y];\r\n\t\t\trow.push(tile ? new Tile(tile.position, tile.value) : null);\r\n\t\t}\r\n\t}\r\n\r\n\treturn cells;\r\n};\r\n\r\n// Find the first available random position 查看是否还有空方块，入口有，返回随机的空位置\r\nGrid.prototype.randomAvailableCell = function () {\r\n\tvar cells = this.availableCells();\r\n\r\n\tif (cells.length) {\r\n\t\treturn cells[Math.floor(Math.random() * cells.length)];\r\n\t}\r\n};\r\n\r\n// 返回所有空方块\r\nGrid.prototype.availableCells = function () {\r\n\tvar cells = [];\r\n\r\n\tthis.eachCell(function (x, y, tile) {\r\n\t\tif (!tile) {\r\n\t\t\tcells.push({ x: x, y: y });\r\n\t\t}\r\n\t});\r\n\r\n\treturn cells;\r\n};\r\n\r\n// Call callback for every cell 遍历方块\r\nGrid.prototype.eachCell = function (callback) {\r\n\tfor (var x = 0; x < this.size; x++) {\r\n\t\tfor (var y = 0; y < this.size; y++) {\r\n\t\t\tcallback(x, y, this.cells[x][y]);\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// Check if there are any cells available\r\nGrid.prototype.cellsAvailable = function () {\r\n\treturn !!this.availableCells().length;\r\n};\r\n\r\n// Check if the specified cell is taken 查看方块是否为空 空：true；有内容：false\r\nGrid.prototype.cellAvailable = function (cell) {\r\n\treturn !this.cellOccupied(cell);\r\n};\r\n\r\n// 查看方块是否为空 空：false；有内容：true\r\nGrid.prototype.cellOccupied = function (cell) {\r\n\treturn !!this.cellContent(cell);\r\n};\r\n\r\n// 返回合法的方块内容\r\nGrid.prototype.cellContent = function (cell) {\r\n\tif (this.withinBounds(cell)) {\r\n\t\treturn this.cells[cell.x][cell.y];\r\n\t} else {\r\n\t\treturn null;\r\n\t}\r\n};\r\n\r\n// Inserts a tile at its position 生成一个新方块\r\nGrid.prototype.insertTile = function (tile) {\r\n\tthis.cells[tile.x][tile.y] = tile;\r\n};\r\n\r\n//移除一个方块\r\nGrid.prototype.removeTile = function (tile) {\r\n\tthis.cells[tile.x][tile.y] = null;\r\n};\r\n\r\n//判断是否在棋盘范围内\r\nGrid.prototype.withinBounds = function (position) {\r\n\treturn (\r\n\t\tposition.x >= 0 &&\r\n\t\tposition.x < this.size &&\r\n\t\tposition.y >= 0 &&\r\n\t\tposition.y < this.size\r\n\t);\r\n};\r\n\r\nGrid.prototype.serialize = function () {\r\n\tvar cellState = [];\r\n\r\n\tfor (var x = 0; x < this.size; x++) {\r\n\t\tvar row = (cellState[x] = []);\r\n\r\n\t\tfor (var y = 0; y < this.size; y++) {\r\n\t\t\trow.push(this.cells[x][y] ? this.cells[x][y].serialize() : null);\r\n\t\t}\r\n\t}\r\n\r\n\treturn {\r\n\t\tsize: this.size,\r\n\t\tcells: cellState,\r\n\t};\r\n};\r\n\r\nexport { Grid };\r\n","import { Grid } from './grid.js';\r\nimport { Tile } from './tile.js';\r\n\r\nfunction GameManager(size, InputManager, Actuator, StorageManager) {\r\n\tthis.size = size; // Size of the grid 棋盘大小\r\n\tthis.inputManager = new InputManager(); //按键监听\r\n\tthis.storageManager = new StorageManager(); //本地实时保存\r\n\tthis.actuator = new Actuator(); //html生成\r\n\r\n\tthis.startTiles = 2;\r\n\r\n\tthis.inputManager.on('move', this.move.bind(this));\r\n\tthis.inputManager.on('restart', this.restart.bind(this));\r\n\tthis.inputManager.on('keepPlaying', this.keepPlaying.bind(this));\r\n\r\n\tthis.setup();\r\n}\r\n\r\n// Restart the game\r\nGameManager.prototype.restart = function () {\r\n\tthis.storageManager.clearGameState();\r\n\tthis.actuator.continueGame(); // Clear the game won/lost message\r\n\tthis.setup();\r\n};\r\n\r\n// Keep playing after winning (allows going over 2048)\r\nGameManager.prototype.keepPlaying = function () {\r\n\tthis.keepPlaying = true;\r\n\tthis.actuator.continueGame(); // Clear the game won/lost message\r\n};\r\n\r\n// Return true if the game is lost, or has won and the user hasn't kept playing\r\nGameManager.prototype.isGameTerminated = function () {\r\n\treturn this.over || (this.won && !this.keepPlaying);\r\n};\r\n\r\n// Set up the game\r\nGameManager.prototype.setup = function () {\r\n\tvar previousState = this.storageManager.getGameState();\r\n\r\n\t// Reload the game from a previous game if present\r\n\tif (previousState) {\r\n\t\tthis.grid = new Grid(previousState.grid.size, previousState.grid.cells); // Reload grid\r\n\t\tthis.score = previousState.score;\r\n\t\tthis.over = previousState.over;\r\n\t\tthis.won = previousState.won;\r\n\t\tthis.keepPlaying = previousState.keepPlaying;\r\n\t} else {\r\n\t\tthis.grid = new Grid(this.size);\r\n\t\tthis.score = 0;\r\n\t\tthis.over = false;\r\n\t\tthis.won = false;\r\n\t\tthis.keepPlaying = false;\r\n\r\n\t\t// Add the initial tiles\r\n\t\tthis.addStartTiles();\r\n\t}\r\n\r\n\t// Update the actuator\r\n\tthis.actuate();\r\n};\r\n\r\n// Set up the initial tiles to start the game with\r\nGameManager.prototype.addStartTiles = function () {\r\n\tfor (var i = 0; i < this.startTiles; i++) {\r\n\t\tthis.addRandomTile();\r\n\t}\r\n};\r\n\r\n// Adds a tile in a random position 如果还有空位置，随机找一个空位置随机生成一个新方块（2或4）\r\nGameManager.prototype.addRandomTile = function () {\r\n\tif (this.grid.cellsAvailable()) {\r\n\t\tvar value = Math.random() < 0.9 ? 2 : 4;\r\n\t\tvar tile = new Tile(this.grid.randomAvailableCell(), value);\r\n\r\n\t\tthis.grid.insertTile(tile);\r\n\t}\r\n};\r\n\r\n// Sends the updated grid to the actuator\r\nGameManager.prototype.actuate = function () {\r\n\tif (this.storageManager.getBestScore() < this.score) {\r\n\t\tthis.storageManager.setBestScore(this.score);\r\n\t}\r\n\r\n\t// Clear the state when the game is over (game over only, not win)\r\n\tif (this.over) {\r\n\t\tthis.storageManager.clearGameState();\r\n\t} else {\r\n\t\tthis.storageManager.setGameState(this.serialize());\r\n\t}\r\n\r\n\tthis.actuator.actuate(this.grid, {\r\n\t\tscore: this.score,\r\n\t\tover: this.over,\r\n\t\twon: this.won,\r\n\t\tbestScore: this.storageManager.getBestScore(),\r\n\t\tterminated: this.isGameTerminated(),\r\n\t});\r\n};\r\n\r\n// Represent the current game as an object\r\nGameManager.prototype.serialize = function () {\r\n\treturn {\r\n\t\tgrid: this.grid.serialize(),\r\n\t\tscore: this.score,\r\n\t\tover: this.over,\r\n\t\twon: this.won,\r\n\t\tkeepPlaying: this.keepPlaying,\r\n\t};\r\n};\r\n\r\n// Save all tile positions and remove merger info\r\nGameManager.prototype.prepareTiles = function () {\r\n\tthis.grid.eachCell(function (x, y, tile) {\r\n\t\tif (tile) {\r\n\t\t\ttile.mergedFrom = null;\r\n\t\t\ttile.savePosition();\r\n\t\t}\r\n\t});\r\n};\r\n\r\n// Move a tile and its representation\r\nGameManager.prototype.moveTile = function (tile, cell) {\r\n\tthis.grid.cells[tile.x][tile.y] = null;\r\n\tthis.grid.cells[cell.x][cell.y] = tile;\r\n\ttile.updatePosition(cell);\r\n};\r\n\r\n// Move tiles on the grid in the specified direction\r\nGameManager.prototype.move = function (direction) {\r\n\t// 0: up, 1: right, 2: down, 3: left\r\n\tvar self = this;\r\n\r\n\tif (this.isGameTerminated()) return; // Don't do anything if the game's over\r\n\r\n\tvar cell, tile;\r\n\r\n\tvar vector = this.getVector(direction);\r\n\tvar traversals = this.buildTraversals(vector);\r\n\tvar moved = false;\r\n\r\n\t// Save the current tile positions and remove merger information\r\n\tthis.prepareTiles();\r\n\r\n\t// Traverse the grid in the right direction and move tiles\r\n\ttraversals.x.forEach(function (x) {\r\n\t\ttraversals.y.forEach(function (y) {\r\n\t\t\tcell = { x: x, y: y };\r\n\t\t\ttile = self.grid.cellContent(cell);\r\n\r\n\t\t\tif (tile) {\r\n\t\t\t\tvar positions = self.findFarthestPosition(cell, vector);\r\n\t\t\t\tvar next = self.grid.cellContent(positions.next);\r\n\r\n\t\t\t\t// Only one merger per row traversal?\r\n\t\t\t\tif (next && next.value === tile.value && !next.mergedFrom) {\r\n\t\t\t\t\tvar merged = new Tile(positions.next, tile.value * 2);\r\n\t\t\t\t\tmerged.mergedFrom = [tile, next];\r\n\r\n\t\t\t\t\tself.grid.insertTile(merged);\r\n\t\t\t\t\tself.grid.removeTile(tile);\r\n\r\n\t\t\t\t\t// Converge the two tiles' positions\r\n\t\t\t\t\ttile.updatePosition(positions.next);\r\n\r\n\t\t\t\t\t// Update the score\r\n\t\t\t\t\tself.score += merged.value;\r\n\r\n\t\t\t\t\t// The mighty 2048 tile\r\n\t\t\t\t\tif (merged.value === 2048) self.won = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tself.moveTile(tile, positions.farthest);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!self.positionsEqual(cell, tile)) {\r\n\t\t\t\t\tmoved = true; // The tile moved from its original cell!\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\tif (moved) {\r\n\t\tthis.addRandomTile();\r\n\r\n\t\tif (!this.movesAvailable()) {\r\n\t\t\tthis.over = true; // Game over!\r\n\t\t}\r\n\r\n\t\tthis.actuate();\r\n\t}\r\n};\r\n\r\n// Get the vector representing the chosen direction\r\nGameManager.prototype.getVector = function (direction) {\r\n\t// Vectors representing tile movement\r\n\tvar map = {\r\n\t\t0: { x: 0, y: -1 }, // Up\r\n\t\t1: { x: 1, y: 0 }, // Right\r\n\t\t2: { x: 0, y: 1 }, // Down\r\n\t\t3: { x: -1, y: 0 }, // Left\r\n\t};\r\n\r\n\treturn map[direction];\r\n};\r\n\r\n// Build a list of positions to traverse in the right order\r\nGameManager.prototype.buildTraversals = function (vector) {\r\n\tvar traversals = { x: [], y: [] };\r\n\r\n\tfor (var pos = 0; pos < this.size; pos++) {\r\n\t\ttraversals.x.push(pos);\r\n\t\ttraversals.y.push(pos);\r\n\t}\r\n\r\n\t// Always traverse from the farthest cell in the chosen direction\r\n\tif (vector.x === 1) traversals.x = traversals.x.reverse();\r\n\tif (vector.y === 1) traversals.y = traversals.y.reverse();\r\n\r\n\treturn traversals;\r\n};\r\n\r\nGameManager.prototype.findFarthestPosition = function (cell, vector) {\r\n\tvar previous;\r\n\r\n\t// Progress towards the vector direction until an obstacle is found\r\n\tdo {\r\n\t\tprevious = cell;\r\n\t\tcell = { x: previous.x + vector.x, y: previous.y + vector.y };\r\n\t} while (this.grid.withinBounds(cell) && this.grid.cellAvailable(cell));\r\n\r\n\treturn {\r\n\t\tfarthest: previous,\r\n\t\tnext: cell, // Used to check if a merge is required\r\n\t};\r\n};\r\n\r\nGameManager.prototype.movesAvailable = function () {\r\n\treturn this.grid.cellsAvailable() || this.tileMatchesAvailable();\r\n};\r\n\r\n// Check for available matches between tiles (more expensive check)\r\nGameManager.prototype.tileMatchesAvailable = function () {\r\n\tvar self = this;\r\n\r\n\tvar tile;\r\n\r\n\tfor (var x = 0; x < this.size; x++) {\r\n\t\tfor (var y = 0; y < this.size; y++) {\r\n\t\t\ttile = this.grid.cellContent({ x: x, y: y });\r\n\r\n\t\t\tif (tile) {\r\n\t\t\t\tfor (var direction = 0; direction < 4; direction++) {\r\n\t\t\t\t\tvar vector = self.getVector(direction);\r\n\t\t\t\t\tvar cell = { x: x + vector.x, y: y + vector.y };\r\n\r\n\t\t\t\t\tvar other = self.grid.cellContent(cell);\r\n\r\n\t\t\t\t\tif (other && other.value === tile.value) {\r\n\t\t\t\t\t\treturn true; // These two tiles can be merged\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn false;\r\n};\r\n\r\nGameManager.prototype.positionsEqual = function (first, second) {\r\n\treturn first.x === second.x && first.y === second.y;\r\n};\r\n\r\nexport { GameManager };\r\n","import { render } from \"./GameOne.vue?vue&type=template&id=4ff624e6\"\nimport script from \"./GameOne.vue?vue&type=script&lang=js\"\nexport * from \"./GameOne.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\web\\\\vue\\\\vue-2048-test\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=49eef7d7\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=49eef7d7&lang=css\"\n\nimport exportComponent from \"D:\\\\web\\\\vue\\\\vue-2048-test\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue';\r\nimport App from './App.vue';\r\n\r\ncreateApp(App).mount('#app');\r\n\r\nconsole.log('ceshi');\r\n//console.log(a);\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkvue_2048_test\"] = self[\"webpackChunkvue_2048_test\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(5269); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createVNode","_component_GameOne","_component_HelloWorld","msg","class","_createElementBlock","_hoisted_1","_createElementVNode","$props","_hoisted_2","name","props","String","__exports__","KeyboardInputManager","this","events","listen","HTMLActuator","tileContainer","document","querySelector","scoreContainer","bestContainer","messageContainer","score","LocalStorageManager","bestScoreKey","gameStateKey","storage","window","localStorage","Tile","position","value","x","y","previousPosition","mergedFrom","Grid","size","previousState","cells","fromState","empty","GameManager","InputManager","Actuator","StorageManager","inputManager","storageManager","actuator","startTiles","on","move","bind","restart","keepPlaying","setup","prototype","event","callback","push","emit","data","callbacks","forEach","self","map","w","d","s","a","W","D","S","A","ArrowUp","ArrowRight","ArrowDown","ArrowLeft","addEventListener","mapped","key","undefined","preventDefault","call","bindButtonPress","selector","fn","button","actuate","grid","metadata","requestAnimationFrame","clearContainer","column","cell","addTile","updateScore","updateBestScore","bestScore","terminated","over","message","won","continueGame","clearMessage","container","firstChild","removeChild","tile","wrapper","createElement","inner","positionClass","classes","applyClasses","classList","add","textContent","merged","appendChild","element","setAttribute","join","normalizePosition","difference","addition","type","getElementsByTagName","remove","getBestScore","getItem","setBestScore","setItem","getGameState","stateJSON","JSON","parse","setGameState","gameState","stringify","clearGameState","removeItem","savePosition","updatePosition","serialize","row","state","randomAvailableCell","availableCells","length","Math","floor","random","eachCell","cellsAvailable","cellAvailable","cellOccupied","cellContent","withinBounds","insertTile","removeTile","cellState","isGameTerminated","addStartTiles","i","addRandomTile","prepareTiles","moveTile","direction","vector","getVector","traversals","buildTraversals","moved","positions","findFarthestPosition","next","farthest","positionsEqual","movesAvailable","pos","reverse","previous","tileMatchesAvailable","other","first","second","mounted","components","HelloWorld","GameOne","render","createApp","App","mount","console","log","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","deferred","O","result","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","splice","r","n","getter","__esModule","definition","o","defineProperty","enumerable","get","g","globalThis","Function","e","obj","prop","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}